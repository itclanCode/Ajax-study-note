### 用Ajax方式思考

将页面的内容与行为分离

### 事件处理程序
web页面上的所有一切都是对象,如输入框和按钮,他们都是带有属性的对象,onblur或onload之类的事件会通过这些属性与事件处理程序绑定

函数之外的javascript代码会在读取脚本时运行



### window对象是什么?

window对象表示用户的浏览器窗口

### 那么是不是用户一旦请求一个页面就会运行window.onload？
首先,浏览器会解析XHTML和XHTML中引用的所有文件,如css或javascript,所以脚本中位于函数之外的代码会在window.onload事件中指定的函数之前运行

### 这就是可以在脚本文件中为window.onload指定一个函数的原因

XHTML页面中引用所有的脚本会在onload事件触发之前读取,接下来,触发onload事件之后,用户就尅真正使用你的页面了

### 我认为必须调用javascript代码才能让它运行那么谁来调用?

这个问题问得好,必须调用javascript函数中的代码使之运行,但是对于没有放在函数内部的代码,一旦浏览器解析到那一行,它就会立即执行,好的Ajax设计大多有利于交互,必须通过一个web页面与用户交互,还要通过服务器端程序于业务逻辑交互,在异步应用中,不能总依赖于服务器告诉你出现了某个问题,要由你来确定是否存在问题,并以一种有效的方式作出响应,浏览器通过请求对象的属性使代码得到服务器的响应

### 那么这个请求对象到底是什么?
大多数人都称之为XMLHttpRequest,但这个相当拗口,另外,有些浏览器可能有不同的叫法,如,XMLHTTP,把它称为请求对象确实更加容易理解,还可以避免过于强调浏览器的特定性,大多数人对它的看法就是:这就是一个请求,不同的浏览器使用不同的语法来得到请求对象,你的代码应当考虑到每一种类型的语法,这样你的应用就能用于多种不同的浏览器,不论使用何种语法来得到请求对象的一个实例,这个独享本身的表现都是一样的,如果无法得到请求对象的实例,则返回一个null,让调用代码来决定该怎么做,这样比生成一个错误更为灵活

### Ajax应用设计包括web页面以及服务器端程序
好的Ajax设计大多有利于交互,必须通过一个web页面与用户交互,还要通过服务器端程序于业务逻辑交互

### getElementById()到底做些什么?

这个函数会返回一个javascript对象,表示web页面上的一个XHTML元素

### 那么value呢?这又是什么?
getElementById()函数返回一个javasdcript对象,表示一个XHTML元素,与所有javascript对象一样,getElementById()函数返回的这个对象也有属性和方法,value属性包含元素中的文本,在这里,就是用户书收入到用户域的内容

### 异步应用的表现与传统web 应用不同,调试时必须考虑到这点

异步应用不要求你等待服务器的应答,你也不会从服务器得到一个完整的页面,实际上,在异步应用中,web页面与服务器之间大多数交互对用户都是完全不可见的,如果用户的web浏览器在执行javascript时遇到某个问题,大多数情况下它只会停下来,而你对于发生了什么一无所知,在异步应用中,不能总是依赖于服务器告诉你出现了某个问题,要由你来确定是否存在问题,并以一种有效的方式作出响应

### 请求对象将你的代码连接到web浏览器
浏览器通过请求对象的属性使代码得到服务器的响应

### 要与浏览器通信,而不是服务器
浏览器把你的请求对象发送服务器,而且在将响应数据发回到web页面之前浏览器会解释服务器的响应

### 浏览器基于服务器的响应回调你的函数

每次请求对象的readyState属性改变时,浏览器都必须采取某些行动,它会做什么?它会运行请求对象onreadystatechange属性指定的函数,在你回调函数中,需要确保响应已经准备就绪可供使用,可以检查readystate属性和服务器的状态,然后,根据服务器的响应采取行动

### 现在web表单向服务器发送请求有两种方式

永远也别假设用户会按你的想法做事情

### 一定要保证将表示放在css中,而行为放在javascript中

XHTML存储结构和内容,而css应当处理表示部分,如图像,颜色和字体样式,javascript所处理的应当是页面完成工作,也就是页面的行为,将这些混在一起意味着设计人员无法修改图像,因为它在你的代码内部,把表示部分放在css中,使用javascript与css交互,而不是直接的改变页面的表示部分

### 并用javascript修改css类
很好的分离内容,表示和行为,这样可以使你的应用更加灵活,只有适当的时候允许注册


