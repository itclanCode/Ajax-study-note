### 回应你的用户

事件:有时需要让你的代码对web应用中发生的事件做出回应,事件时指在页面上,浏览器中甚至web服务器上发生的某个事情,不过只知道事件还不够,有时你还希望对事件做出响应,通过创建代码并注册为事件处理程序,就可以在每次发生一个特定的事件时让浏览器运行你的事件处理程序,通过结合事件和事件处理程序,你就能够得到交互式web应用

尽量不要依赖于任何工具包,除非你已经理解了工具包的底层代码,这样一来,如果事情没有按预期的方向发展,你就能靠自己解决问题


### Ajax确实大部分都是javascript,事件和大量烦人的脚本

大多数使用异步请求的应用中,处理web页面和页面上对象的代码以及完成基本javascript任务的代码会比请求对象代码多得多,具体的请求对象代码可能只是一个回调函数和事件处理程序中的几行代码,不过确实不能把一个应用简单的划分为"javascript","Ajax","css"他们会相会结合协同工作,所以,即使这一章大部分时间都在与XHTML,css和事件处理程序打交道呢,但你确实在构建Ajax应用,能够快速响应而且用户友好的现代web应用,对javascript,XHTML和css了解得更多,你的Ajax应用就更有效,更有用

### Ajax应用不只是各组成的技术的简单堆积

Ajax实际上是很多相当简单的技术结合在一起,XHTML,css,javascript,和DOM等技术

### 事件时交互性的关键

交互式表示你的页面能够响应特定的事件,而事件就是发生的事情,这些事情可能由用户,代码,浏览器甚至服务器触发,很多情况下都可能触发事件,可以在代码中注册事件处理程序来响应这些事件
* onclick:如果希望在服务器端程序处理表单内容之前先验证表单,可以使用这个事件
* onfocus:如果希望在用户禁用了图像时提供声音的反馈,可以使用这个事件
* onblur:如果希望在用户点击图像中的某一点时放大显示图像的某一部分,可以使用这个事件
* onload:如果希望让用户知道增加浏览器窗口的宽度会影响他们的视觉体验,可以适应这个事件
* onmouseover如果希望在用户移出一个菜单项时隐藏子菜单,可以使用这个事件
* onmouseout:如果希望让用户知道所选的文本域的输入格式,可以使用这个事件
* onsubmit:如果希望在用户将鼠标移到某个菜单项时改变这个菜单项的颜色,可以使用这个事件
* onresize:如果希望在用户开始使用表单之前以弹出窗口形式给出表单的一些提示信息,可以使用这个事件
* onerror:如果希望每次在一个特定域中输入数据时都对这个域进行验证,可以使用这个事件

### 将web页面上的事件连接到javascript中的事件处理程序
使用window.onload事件来触发web页面上的大量初始化工作,而且曾今使用onclick事件来处理用户点击图像的动作,我们可以使用这些事件以及onmouseover事件将页面中不同部分连接到我么将编写的javascript函数中

### 使用window.onload事件初始化web页面的其余交互性()事件

通过编程方式指定事件处理程序也是一种实现内容与行为分离的方法,要尽可能保证javascript与XHTML分离,对于XHTML和css也是如此,要保证他们分离,指定事件处理程序最好的方法是使用XHTML页面中元素的属性,并在一个函数中完成属性赋值,这个函数要在用户控制页面之前运行,对此,window.onload就是最合适的事件

### 为什么会调用window.onload？

实际上window.onload是一个事件,一旦XHTML页面由浏览器读入,而且该XHTML中引用的所有文件都已经加载,就会发生或触发这个事件

### 浏览器怎么知道要调用那个函数?

浏览器会调用你指定给window对象onload属性的函数,设置这个属性与设置任何其他javascript属性是一样的,要等号来设置,只是要确保去掉函数名后面的括号,window.onload = initpage函数,并为所用的其他函数建立占位函数,对现在来说,这些占位函数只显示提示框

### 那么在哪里对这个属性赋值?

浏览器一旦遇到不在任何函数中的代码,就会立即运行这个代码,所以,只要把window.onload赋值给语句,放在javascript最前面,要在所有函数之外,这个赋值就会在用户与页面交互之前发生,接下来,浏览器会触发onload,并运行你指定的函数,你可以利用这个机会设置web页面的其他事件

### 为什么href设置为"#"？
表示引用当前页,我们不希望标签页把用户带到别的页面,不过后面会编写一些代码使得点击一个标签页时会显示所选课程的课程表

### 那么是不是XHTML中根本不能有图像?实际上把标签页就是用了图像,实际上标签页就是用了图像,需要把img元素从XHTML中取出来
这只是一方面,我们使用css来控制按钮是否是活动的,一个按钮从活动状态变为不活动状态时外观属于表示部分,所以放在css中,XHTML中完全可以有图像,只是要确保一点,如果这些图像关联到行为,就会把css和代码混在一起,此时应当把图像的这些细节从XHTML中取出
Ajax的核心就是交互,你的页面要能够与服务器端程序,页面本身的元素甚至其他页面交互
### 对于标签页,我们有一个inactive类和一个active类,但是对于按钮,XHTML中这些按钮并没有类(class属性),另外css中只有包含活动图像的active类,为什么这些按钮没有一个acactive.
对于标签页,有两个不同的状态,活动(处于前台)和不活动(处于后台),不过,按钮实际上有一个正常状态(正常显示)和活动状态(按钮高亮显示),所以一般情况下只是一个按钮(而没有类),然后在鼠标移入该按钮时在为按钮指定active类,这样做更合适,在java-script中,元素表示为一个对象,这个对象对于在所表示的元素上发生每个事件都有一个属性

